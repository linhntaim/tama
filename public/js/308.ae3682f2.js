(self["webpackChunkstarter"]=self["webpackChunkstarter"]||[]).push([[308],{9308:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i=n(3396),a=n(9242),s=n(7139);const l={class:"col-12"},c=(0,i._)("label",{class:"visually-hidden",for:"inputExchange"},"Exchange",-1),r=["value","selected"],h={class:"col-12"},o=(0,i._)("label",{class:"visually-hidden",for:"inputTicker"},"Ticker",-1),d=["value"],g={class:"col-12"},u=(0,i._)("label",{class:"visually-hidden",for:"inputInterval"},"Interval",-1),v=["value"],w={class:"col-12"},x=(0,i._)("label",{class:"visually-hidden",for:"inputIndicator"},"Indicator",-1),k=["value","selected"],f={class:"col-12"},p=["disabled"],m={class:"mt-3 table-responsive"},b={key:1,class:"py-5 text-center"},_={key:0},y={key:1},C=(0,i.Uk)("Please press the "),I=(0,i._)("strong",null,"Submit",-1),T=(0,i.Uk)(" button to retrieve the data."),D=[C,I,T];function E(e,t,n,C,I,T){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("form",{class:"row row-cols-lg-auto g-3 align-items-center",onSubmit:t[6]||(t[6]=(0,a.iM)(((...e)=>T.onSubmit&&T.onSubmit(...e)),["prevent"])),method:"post"},[(0,i._)("div",l,[c,(0,i.wy)((0,i._)("select",{class:"form-select",id:"inputExchange","onUpdate:modelValue":t[0]||(t[0]=e=>I.exchange=e),onChange:t[1]||(t[1]=(...e)=>T.onExchangeChange&&T.onExchangeChange(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.exchanges,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,value:e.id,selected:I.exchange===e.id},(0,s.zw)(e.name),9,r)))),128))],544),[[a.bM,I.exchange]])]),(0,i._)("div",h,[o,(0,i.wy)((0,i._)("select",{class:"form-select",id:"inputTicker","onUpdate:modelValue":t[2]||(t[2]=e=>I.ticker=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.tickers,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,s.zw)(e),9,d)))),128))],512),[[a.bM,I.ticker]])]),(0,i._)("div",g,[u,(0,i.wy)((0,i._)("select",{class:"form-select",id:"inputInterval","onUpdate:modelValue":t[3]||(t[3]=e=>I.interval=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.intervals,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,s.zw)(e),9,v)))),128))],512),[[a.bM,I.interval]])]),(0,i._)("div",w,[x,(0,i.wy)((0,i._)("select",{class:"form-select",id:"inputIndicator","onUpdate:modelValue":t[4]||(t[4]=e=>I.indicator=e),onChange:t[5]||(t[5]=(...e)=>T.onExchangeChange&&T.onExchangeChange(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.indicators,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,value:e.id,selected:I.indicator===e.id},(0,s.zw)(e.name),9,k)))),128))],544),[[a.bM,I.indicator]])]),(0,i._)("div",f,[(0,i._)("button",{class:"btn btn-primary",type:"submit",disabled:I.loading._},"Submit",8,p)])],32),(0,i._)("div",m,[I.swingTrades.length?((0,i.wg)(),(0,i.j4)((0,i.LL)(I.tableComponent),{key:0,swingTrades:I.swingTrades},null,8,["swingTrades"])):((0,i.wg)(),(0,i.iD)("div",b,[I.fetched?((0,i.wg)(),(0,i.iD)("span",_,"No data has been retrieved.")):((0,i.wg)(),(0,i.iD)("span",y,D))]))])],64)}var U=n(3436),$=n(9226),S=n(8016);class K extends S.UQ{swing(e,t,n,i){return this.get(`swing-trade/${e}/${t}`,{ticker:n,interval:i})}}var M=n(65);const O=[{id:"rsi",name:"RSI Indicator"}];var H={name:"Index",data(){return{loading:{_:!1},tickers:[],intervals:[],indicators:O,exchange:null,ticker:null,interval:null,indicator:O[0].id,fetched:!1,swingTrades:[],tableComponent:null}},computed:{...(0,M.Se)({exchanges:"exchange/all"}),exchangeCacheKey(){return`exchange.${this.exchange}`}},created(){this.getAllExchanges()},methods:{...(0,M.nv)({exchangeAll:"exchange/all"}),getAllExchanges(){this.loading._=!0,this.exchangeAll().then((async()=>{this.exchange=this.exchanges.length?this.exchanges[0].id:null,this.loading._=!1,await this.onExchangeChange(),this.onIndicatorChange()}))},async onExchangeChange(){if(this.exchange){const e=await this.$cache.get(this.exchangeCacheKey);e?(this.tickers=e.tickers,this.ticker=e.defaultTicker,this.intervals=e.intervals,this.interval=e.defaultInterval):(this.loading._=!0,Promise.all([this.$service($.O).done((e=>{this.tickers=e.tickers,this.ticker=e.default})).tickerIndex(this.exchange),this.$service($.O).done((e=>{this.intervals=e.intervals,this.interval=e.default})).intervalIndex(this.exchange)]).then((()=>{this.$cache.set(this.exchangeCacheKey,{tickers:this.tickers,defaultTicker:this.ticker,intervals:this.intervals,defaultInterval:this.interval}),this.loading._=!1})))}},onIndicatorChange(){this.swingTrades=[],this.tableComponent=(0,i.RC)((()=>n(1089)(`./${(0,U.ucfirst)(this.indicator)}Table`)))},onSubmit(){this.loading._=!0,this.$service(K).done((e=>{this.swingTrades=e.swing_trades,this.fetched=!0})).always((()=>this.loading._=!1)).swing(this.exchange,this.indicator,this.ticker,this.interval)}}},Y=n(89);const z=(0,Y.Z)(H,[["render",E]]);var A=z},1089:function(e,t,n){var i={"./RsiTable":[9733,733]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id=1089,e.exports=a}}]);
//# sourceMappingURL=308.ae3682f2.js.map