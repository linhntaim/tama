(function(){var e={9226:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});var s=r(8016);class n extends s.UQ{index(){return this.get("exchange")}tickerIndex(e){return this.get(`exchange/${e}/ticker`)}intervalIndex(e){return this.get(`exchange/${e}/interval`)}symbolShow(e,t){return this.get(`exchange/${e}/symbol/${t}`)}}},2836:function(e,t,r){"use strict";r.d(t,{N:function(){return n}});var s=r(6285);class n{constructor(e,t,r=null){this.app=e,this.config=e.config.globalProperties.$config,this.configKey=t,this.drivers={},this.extended={},this.withs={},this.defaultDriver=r}getConfig(e,t=null){return this.config?.get(`${this.configKey}.${e}`,t)||t}options(e){return this.getConfig(`drivers.${e}`,{})}getDefaultDriver(){return this.getConfig("default",this.defaultDriver)}extend(e,t){switch(typeof e){case"string":this.extended[e]=t;break;case"object":Object.keys(e).forEach((t=>this.extended[t]=e[t]));break}return this}with(e,t,r="default"){e in this.withs?this.withs[e][r]=t:this.withs[e]={key:t}}without(e,t="default"){e in this.withs&&delete this.withs[e][t]}driver(e=null){return null==e&&(e=this.getDefaultDriver()),(0,s.Pj)(e in this.drivers?this.drivers[e]:this.drivers[e]=this.createDriver(e),(t=>{const r=e in this.withs?this.withs[e]:{};return Object.keys(r).forEach((e=>{t=r[e](t)})),t}))}createDriver(e){return(0,s.Pj)(this.createCustomDriver(e),(t=>t||(0,s.Pj)(this.createExtendedDriver(e),(e=>e||this.createDefaultDriver()))))}createCustomDriver(e){const t="create"+s.Bd.studly(e);return t in this?this[t]():null}createExtendedDriver(e){return e in this.extended?this.extended[e]():null}createDefaultDriver(){throw"Driver does not exist."}}},6285:function(e,t,r){"use strict";r.d(t,{Eu:function(){return c},Pj:function(){return i},M9:function(){return o},Bd:function(){return l},qn:function(){return a},XV:function(){return n}});class s{constructor(){this.snakeCache={},this.camelCache={},this.studlyCache={}}ctypeLower(e){return/^[a-z]+$/.test(e)}lcfirst(e){return e.charAt(0).toLowerCase()+e.substr(1)}strncmp(e,t,r){return e=e.substring(0,r),t=t.substring(0,r),e===t?0:e>t?1:-1}ucwords(e,t="\\s\\t\\r\\n\\f\\v"){return e.replace(new RegExp("(^(.)|["+t+"]+(.))","g"),(e=>e.toUpperCase()))}after(e,t){if(""===t)return e;const r=e.indexOf(t);return-1===r?e:e.substr(r+t.length)}afterLast(e,t){if(""===t)return e;const r=e.lastIndexOf(t);return-1===r?e:e.substr(r+t.length)}before(e,t){return""===t?e:e.split(t)[0]}beforeLast(e,t){if(""===t)return e;const r=e.lastIndexOf(t);return-1===r?e:e.substr(0,r)}between(e,t,r){return""===t||""===r?e:this.beforeLast(this.after(e,t),r)}camel(e){return e in this.camelCache?this.camelCache[e]:this.camelCache[e]=this.lcfirst(this.studly(e))}contains(e,t){return"string"===typeof t&&(t=[t]),t.some((t=>""!==t&&-1!==e.indexOf(t)))}containsAll(e,t){return t.every((t=>this.contains(e,t)))}endsWith(e,t){return"string"===typeof t&&(t=[t]),t.some((t=>""!==t&&null!==t&&e.substr(-t.length)===t))}snake(e,t="_"){const r=e;if(r in this.snakeCache){if(t in this.snakeCache[r])return this.snakeCache[r][t]}else this.snakeCache[r]={};return this.ctypeLower(e)||(e=this.ucwords(e).replace(/\s+/u,""),e=e.replace(/(.)(?=[A-Z])/u,"$1"+t).toLowerCase()),this.snakeCache[r][t]=e}startsWith(e,t){return"string"===typeof t&&(t=[t]),t.some((t=>""!==t&&null!==t&&0===this.strncmp(e,t,t.length)))}studly(e){const t=e;return t in this.studlyCache?this.studlyCache[t]:(e=this.ucwords(e.replace(/[-_]/g," ")),this.studlyCache[t]=e.replace(/\s+/g,""))}}function n(){return(new Date).getTime()}function o(e,t){const r={};return t.forEach((t=>t in e&&(r[t]=e[t]))),r}function a(e,t=null){return t&&t(e),e}function i(e,t=null){return t?t(e):e}function c(e,t,r=null){const s=t.split(".");let n;while(n=s.shift()){if("object"!==typeof e||!(n in e)){e=null;break}e=e[n]}return null==e?r:e}const l=new s},733:function(e,t,r){"use strict";r.d(t,{c:function(){return s}});class s{constructor(e){this.app=e}}},7714:function(e,t,r){"use strict";r.d(t,{G:function(){return u}});var s=r(2836),n=r(6265),o=r.n(n);class a extends s.N{constructor(e){super(e,"services.request","starter")}createStarter(){return o().create(this.options("starter"))}}var i=r(733);class c extends i.c{constructor(e){super(e),this.registered={}}make(e,t=null){const r=e.name;return r in this.registered||(this.registered[r]=t||(t=>new e(t))),this.create(r)}create(e){return this.registered[e](this.app)}}class l extends c{create(e){return"function"===typeof this.registered[e]?this.registered[e]=super.create(e):this.registered[e]}}function u(e={}){return{install(t){const r=new l(t);t.config.globalProperties.$request=new a(t).extend(e),t.config.globalProperties.$service=e=>r.make(e)}}}},8016:function(e,t,r){"use strict";r.d(t,{UP:function(){return u},C:function(){return s},UQ:function(){return l},m8:function(){return c}});r(7714);class s{constructor(e){this.error=e,this.message=null,this.messages=[],this.parseError()}parseError(){}getMessage(){return this.message}getMessages(){return this.messages}}var n=r(733);class o extends n.c{constructor(e){super(e),this.$request=this.app.config.globalProperties.$request}requestDriver(){return null}requester(){return this.$request.driver(this.requestDriver())}response(e){return e}}var a=r(6285),i=r(6265);class c extends s{parseError(){this.error instanceof i.AxiosError&&(this.parseErrorResponse(this.error.response.data)||this.parseErrorCode(this.error.code)||this.parseErrorMessage(this.error.message))}parseErrorResponse(e){return!!e?._messages&&(this.messages=e._messages,this.message=this.messages[0],this.data=e._data,!0)}parseErrorCode(e){return!1}parseErrorMessage(e){return this.message=e,this.messages=[e],this.data=null,!0}}class l extends o{constructor(e){super(e),this.doneCallback=null,this.errorCallback=null,this.wrapErrorCallback=null,this.alwaysCallback=null}requestDriver(){return"starter"}done(e){return this.doneCallback=e,this}error(e){return this.errorCallback=e,this}always(e){return this.alwaysCallback=e,this}wrapError(e){return this.wrapErrorCallback=e,this}responseThen(e,t=null,r=null,n=null,o=null){return e.then((e=>{if(!e.data._status)throw e;const r=e.data._data;return t&&t(r),r})).catch((e=>(e instanceof i.AxiosError||(e=new i.AxiosError("Server Error","ERR_SERVER",e.config,e.request,e)),e=o?o(e):new c(e),r&&r(e),e))).then((e=>{if(n&&n(e),e instanceof s)throw e;return e}))}response(e){return(0,a.qn)(this.responseThen(e,this.doneCallback,this.errorCallback,this.alwaysCallback,this.wrapErrorCallback),(()=>{this.doneCallback=null,this.errorCallback=null,this.alwaysCallback=null,this.wrapErrorCallback=null}))}get(e,t={}){return this.response(this.requester().get(e,{params:t}))}post(e,t={}){return this.response(this.requester().post(e,t))}delete(e,t={}){return this.response(this.requester().delete(e,{data:t}))}}class u extends l{encrypt(e){return this.post("encrypt",{data:e})}decrypt(e){return this.post("decrypt",{data:e})}}},4715:function(e,t,r){"use strict";r.d(t,{l2:function(){return ct}});var s={};r.r(s),r.d(s,{app:function(){return i},cache:function(){return d},encryption:function(){return u},localization:function(){return p},log:function(){return c},services:function(){return l},storage:function(){return h}});var n={};r.r(n),r.d(n,{account:function(){return oe},exchange:function(){return ue},forgotPassword:function(){return ie},holding:function(){return pe},prerequisite:function(){return re},register:function(){return ae},resetPassword:function(){return ce}});var o=r(9242),a=r(3436);const i={id:"crypto_bot",name:"Crypto Bot",url:window.location.origin+(0,a.trim)("/","/"),static:!("VUE_APP_SERVICE_URL"in{NODE_ENV:"production",VUE_APP_ID:"crypto_bot",VUE_APP_NAME:"Crypto Bot",VUE_APP_SERVICE_CLIENT:"default",VUE_APP_SERVICE_URL:"http://127.0.0.1:8000/api",BASE_URL:"/"}),ping:{expired_in:6e4},routes:{root:{name:"root"},connection_lost:{name:"connection_lost"},redirect_if_unauthenticated:{name:"unauthenticated"},redirect_if_authenticated:{name:"root"}}},c={default:"console",drivers:{console:{}}},l={request:{default:"starter",drivers:{starter:{baseURL:(()=>{if("VUE_APP_SERVICE_URL"in{NODE_ENV:"production",VUE_APP_ID:"crypto_bot",VUE_APP_NAME:"Crypto Bot",VUE_APP_SERVICE_CLIENT:"default",VUE_APP_SERVICE_URL:"http://127.0.0.1:8000/api",BASE_URL:"/"}){let e="http://127.0.0.1:8000/api";return/^https?:\/\//.test(e)?e:(e=(0,a.trim)(e,"/"),window.location.origin+(e?"/"+e:""))}return null})(),headers:(()=>{const e={"X-Client":"default"};return e})()}}}},u={default:"base64",drivers:{base64:{},starter:{}}},h={default:"local",drivers:{local:{flatten:!0},cookie:{flatten:!0}}},d={default:"storage",drivers:{storage:{storage:"local"}}},p={locale:{default:"en",fallback:"en",supported:["en","vi"]}};var g=r(6285);class m{constructor(e){Object.keys(e).forEach((t=>this[t]=e[t]))}get(e,t=null){return(0,g.Eu)(this,e,t)}}function f(e){return{install(t){t.config.globalProperties.$config=new m(e)}}}const v=f(s);var b=r(2836);class w{constructor(e={}){this.options=e}}class y extends w{info(e,t,...r){}error(e,t,...r){}warn(e,t,...r){}}class k extends y{info(e,t,...r){console.info(e+":",t,...r)}error(e,t,...r){console.error(e+":",t,...r)}warn(e,t,...r){console.warn(e+":",t,...r)}}class E extends b.N{constructor(e){super(e,"log","console")}createConsole(){return new k(this.options("console"))}}function x(e={}){return{install(t){const r=new E(t).extend(e);t.config.globalProperties.$logManager=r,t.config.globalProperties.$log=r.driver()}}}const C=x();var P=r(7714);const A=(0,P.G)();class _ extends w{encrypt(e){return e}decrypt(e){return e}}var $=r(8016);class L extends _{constructor(e,t={}){super(t),this.app=e}async encrypt(e){const t=await this.app.config.globalProperties.$service($.UP).encrypt(e);if(t instanceof $.C)throw"Encrypt failed.";return t.encrypted}async decrypt(e){const t=await this.app.config.globalProperties.$service($.UP).decrypt(e);if(t instanceof $.C)throw"Decrypt failed.";return t.decrypted}}r(2801);class I extends _{encrypt(e){return btoa(e)}decrypt(e){return atob(e)}}class U extends b.N{constructor(e){super(e,"encryption","base64")}createBase64(){return new I(this.options("base64"))}createStarter(){return new L(this.app,this.options("starter"))}}function S(e={}){return{install(t){const r=new U(t).extend(e);t.config.globalProperties.$encryption=r,t.config.globalProperties.$encryptor=r.driver()}}}const R=S();class D extends w{constructor(e,t={}){super(t),this.encryptor=e}async put(e,t,r={}){return this.putRaw(e,await this.toRawValue(this.toValue(t,r),r),r)}putRaw(e,t,r={}){return this}toValue(e,t={}){return e}async toRawValue(e,t={}){let r={value:e,options:t};return this.options.flatten&&(r=JSON.stringify(r)),this.options.encrypt&&(r=await this.encryptor.encrypt(r)),r}flash(e,t,r={}){return r.flash=!0,this.put(e,t,r)}has(e){return!1}async keep(e){if(this.has(e)){const t=await this.fromRawValue(this.getRaw(e)),r=this.fromValue(e,t.value,t.options);t.options.keep=!0,await this.put(e,r,t.options)}return this}async get(e,t=null){if(!this.has(e))return t;const r=await this.fromRawValue(e,this.getRaw(e));return this.fromValue(e,r.value,r.options)}fromValue(e,t,r={}){return r.expired&&(new Date).getTime()>r.expired?(this.remove(e),null):(r.flash&&(r.keep?delete r.keep:this.remove(e)),t)}async fromRawValue(e,t){return this.options.encrypt&&(t=await this.encryptor.decrypt(t)),this.options.flatten&&(t=JSON.parse(t)),t}getRaw(e){return null}remove(e){return this}}class O extends D{constructor(e,t={}){super(e,t),this.handler=window.localStorage}putRaw(e,t,r={}){return this.handler.setItem(e,t),this}has(e){return e in this.handler}getRaw(e){return this.handler.getItem(e)}remove(e){return this.handler.removeItem(e),this}}var V=r(680);class T extends D{constructor(e,t={}){super(e,t),this.options.flatten=!0}putRaw(e,t,r={}){const s={secure:/^https/.test(window.location.origin),sameSite:"lax"};return r.expired&&(s.expires=new Date(r.expired)),"expires"in r&&(s.expires=r.expires),"expires"in s||(s.expires=new Date((new Date).getTime()+15768e7)),"path"in r&&(s.path=r.path),"domain"in r&&(s.domain=r.domain),"secure"in r&&(s.secure=r.secure),"sameSite"in r&&(s.sameSite=r.sameSite),V.Z.set(e,t,s),this}has(e){return(t=>!!t.length&&t.some((t=>e===decodeURIComponent(t.split("=")[0]))))(document.cookie?document.cookie.split("; "):[])}getRaw(e){return V.Z.get(e)}remove(e){return V.Z.remove(e),this}}class q extends b.N{constructor(e){super(e,"storage","local")}encryptor(e){return e?this.app.config.globalProperties.$encryption.driver(e):this.app.config.globalProperties.$encryptor}createLocal(){const e=this.options("local");return new O(this.encryptor(e.encryptor),e)}createCookie(){const e=this.options("cookie");return new T(this.encryptor(e.encryptor),e)}}function j(e={}){return{install(t){const r=new q(t).extend(e);t.config.globalProperties.$storageManager=r,t.config.globalProperties.$storage=r.driver(),t.config.globalProperties.$cookie=r.driver("cookie")}}}const F=j();class N extends w{set(e,t,r=null){return this}get(e,t=null){return t}remove(e){return this}}class M extends N{constructor(e,t={}){super(t),this.storage=e}async set(e,t,r=null){const s={};return r&&(s.expired=(new Date).getTime()+r),await this.storage.put(e,t,s),this}async get(e,t=null){return await this.storage.get(e,t)}remove(e){return this.storage.remove(e),this}}class B extends b.N{constructor(e){super(e,"cache","storage")}storage(e){return e?this.app.config.globalProperties.$storageManager.driver(e):this.app.config.globalProperties.$storage}createStorage(){const e=this.options("storage");return new M(this.storage(e.storage),e)}}function z(e={}){return{install(t){const r=new B(t).extend(e);t.config.globalProperties.$cacheManager=r,t.config.globalProperties.$cache=r.driver()}}}const H=z();r(6699);class Z{constructor(e=[]){this.locale=null,this.loadedLocales=[],this.supportedLocales=e}applyLocale(e){return this.locale=e}setLocale(e){return this.supportedLocales.includes(e)?this.locale===e?Promise.resolve(e):this.loadedLocales.includes(e)?Promise.resolve(this.applyLocale(e)):this.setUnloadedLocale(e):Promise.resolve(this.locale)}setUnloadedLocale(e){return Promise.resolve(this.applyLocale(e))}}var Q=r(4329);class W extends Z{createI18Provider(e={}){return e=Object.assign({globalInjection:!0,legacy:!1,locale:{NODE_ENV:"production",VUE_APP_ID:"crypto_bot",VUE_APP_NAME:"Crypto Bot",VUE_APP_SERVICE_CLIENT:"default",VUE_APP_SERVICE_URL:"http://127.0.0.1:8000/api",BASE_URL:"/"}.VUE_APP_I18N_LOCALE||"en",fallbackLocale:{NODE_ENV:"production",VUE_APP_ID:"crypto_bot",VUE_APP_NAME:"Crypto Bot",VUE_APP_SERVICE_CLIENT:"default",VUE_APP_SERVICE_URL:"http://127.0.0.1:8000/api",BASE_URL:"/"}.VUE_APP_I18N_FALLBACK_LOCALE||"en"},e||{}),this.loadedLocales=Object.keys(e.messages||{}),this.locale=this.loadedLocales.length?e.locale:null,(0,g.qn)((0,Q.o)(e),(e=>this.i18n=e.global))}applyLocale(e){return this.i18n.locale.value=e,super.applyLocale(e)}setUnloadedLocale(e){return r(1618)(`./${e}.js`).then((t=>(this.i18n.setLocaleMessage(e,t.default),this.loadedLocales.push(e),this.applyLocale(e)))).catch((()=>Promise.resolve(this.locale)))}}class X{constructor(){this.settings={locale:null,country:null,timezone:null,currency:null,numberFormat:null,longDateFormat:null,shortDateFormat:null,longTimeFormat:null,shortTimeFormat:null},this.applied(),this.localeHandler=null,this.applies={}}applied(){this.appliedSettings=Object.assign({},this.settings)}setLocale(e){return this.settings.locale=e,this}setLocaleHandler(e){return this.localeHandler=e,this}setLocaleApply(e){return this.applies.locale=e,this}setCommonApply(e){return this.applies.common=e,this}changes(){const e={};return Object.keys(this.settings).forEach((t=>e[t]=this.settings[t]!==this.appliedSettings[t])),e}apply(){const e=this.changes();return(0,g.Pj)(this.localeHandler.setLocale(this.settings.locale),(t=>this.applies.locale?t.then((async t=>(await this.applies.locale(t,e.locale),t))):t)).then((async()=>(this.applies.common&&await this.applies.common(this.settings,e),this.applied(),this.settings)))}}const G=new W(p.locale.supported),J=(new X).setLocaleHandler(G),K=G.createI18Provider({locale:p.locale["default"],fallbackLocale:p.locale.fallback}),Y={install(e){J.setLocaleApply((async(t,r)=>{r?(document.querySelector("html").setAttribute("lang",t),e.config.globalProperties.$request.with("starter",(e=>(e.defaults.headers.common["Accept-Language"]=t,e)),"header.accept-language"),await e.config.globalProperties.$cookie.put("locale",t),e.config.globalProperties.$log.info("locale","applied",t)):e.config.globalProperties.$log.info("locale","no need to apply")})).setCommonApply(((t,r)=>{Object.keys(r).some((e=>r[e]))?(e.config.globalProperties.$request.with("starter",(e=>(e.defaults.headers.common["X-Settings"]=(()=>{const e={};return Object.keys(t).forEach((r=>t[r]&&(e[g.Bd.snake(r)]=t[r]))),JSON.stringify(e)})(),e)),"header.x-settings"),e.config.globalProperties.$log.info("settings","applied",t)):e.config.globalProperties.$log.info("settings","no need to apply")})),e.config.globalProperties.$setLocale=t=>(e.config.globalProperties.$log.info("locale","applying",t),J.setLocale(t).apply())}};var ee=r(65);class te extends $.UQ{require(e){return this.get("prerequisite",{names:e})}}const re={namespaced:!0,state:()=>({metadata:{}}),mutations:{setData(e,{name:t,data:r}){e.metadata[t]=r},reset(e){e.metadata={}}},actions:{async require(e,t){const r=[];if(t.forEach((t=>!(t in e.state.metadata)&&r.push(t))),r.length){const t=await ct.$service(te).done((t=>r.forEach((r=>e.commit("setData",{name:r,data:t[r]}))))).require(r);if(t instanceof $.m8)return Promise.resolve(t)}return Promise.resolve((0,g.M9)(e.state.metadata,t))}},getters:{metadata:e=>e.metadata}};class se extends $.UQ{sanctumLogin(e){return this.post("auth/sanctum/login",e)}sanctumLogout(){return this.post("auth/sanctum/logout")}register(e){return this.post("auth/register",e)}forgotPassword(e){return this.post("auth/forgot-password",e)}resetPassword(e){return this.post("auth/reset-password",e)}}class ne extends $.UQ{current(){return this.get("account/current")}}const oe={namespaced:!0,state:()=>({account:null,token:{type:null,accessToken:null,expiredAt:null}}),mutations:{setToken(e,{type:t,accessToken:r,expiredAt:s}){e.token.type=t,e.token.accessToken=r,e.token.expiredAt=s,ct.$request["with"]("starter",(e=>("bearer"===t&&r&&(e.defaults.headers.common["Authorization"]=`Bearer ${r}`),e)),"header.authorization")},setTokenCookie(e){ct.$cookie.put("model.account.token",{type:e.token.type,accessToken:e.token.accessToken,expiredAt:e.token.expiredAt},{expired:1e3*e.token.expiredAt})},setAccount(e,t){e.account=t},unset(e){e.token={type:null,accessToken:null,expiredAt:null},e.account=null,ct.$request["with"]("starter",(e=>(delete e.defaults.headers.common["Authorization"],e)),"header.authorization"),ct.$cookie.remove("model.account.token")}},actions:{async restoreFromCookie(e){const t=await ct.$cookie.get("model.account.token");return ct.$log.info("model","account.restoreFromCookie",t),t&&t.type&&t.accessToken&&t.expiredAt&&(e.commit("setToken",{type:t.type,accessToken:t.accessToken,expiredAt:t.expiredAt}),await e.dispatch("current")),e.getters.isLoggedIn||e.commit("unset"),t},current(e){return ct.$service(ne).done((t=>e.commit("setAccount",t.model))).current()},sanctumLogin(e,t){return ct.$service(se).done((t=>{e.commit("setToken",{type:"bearer",accessToken:t.token.access_token,expiredAt:t.token.expired_at}),e.commit("setTokenCookie"),e.commit("setAccount",t.model)})).sanctumLogin(t)},sanctumLogout(e){return ct.$service(se).sanctumLogout().then((t=>(e.commit("unset"),t)))}},getters:{account:e=>e.account,isLoggedIn:e=>null!=e.account}},ae={namespaced:!0,state:()=>({name:"",email:"",password:"",passwordConfirmation:"",progressing:!1}),mutations:{setProgressing(e,t){e.progressing=t},reset(e){e.name="",e.email="",e.password="",e.passwordConfirmation=""}},actions:{register(e,t={}){return ct.$service(se).register(Object.assign({name:e.state.name,email:e.state.email,password:e.state.password,password_confirmation:e.state.passwordConfirmation},t))}},getters:{progressing:e=>e.progressing}},ie={namespaced:!0,state:()=>({email:"",progressing:!1}),mutations:{setProgressing(e,t){e.progressing=t},reset(e){e.email=""}},actions:{forgotPassword(e,t={}){return ct.$service(se).forgotPassword(Object.assign({email:e.state.email},t))}},getters:{progressing:e=>e.progressing}},ce={namespaced:!0,state:()=>({token:"",email:"",password:"",passwordConfirmation:"",progressing:!1}),mutations:{setProgressing(e,t){e.progressing=t},reset(e){e.token="",e.email="",e.password="",e.passwordConfirmation=""}},actions:{resetPassword(e){return ct.$service(se).resetPassword({token:e.state.token,email:e.state.email,password:e.state.password,password_confirmation:e.state.passwordConfirmation})}},getters:{progressing:e=>e.progressing}};var le=r(9226);const ue={namespaced:!0,state:()=>({all:[]}),mutations:{setAll(e,t){e.all=t}},actions:{all(e){const t=e.getters.all;return t.length?new Promise((e=>e(t))):ct.$service(le.O).done((t=>(e.commit("setAll",t.exchanges),t))).index()}},getters:{all:e=>e.all}};class he extends $.UQ{current(){return this.get("account/holding/current")}save(e,t){return this.post("account/holding/current",{initial:e,assets:t})}updateInitial(e){return this.post("account/holding/current",{initial:e})}assetAdd(e,t,r){return this.post("account/holding/asset",{exchange:e,symbol:t,amount:r})}assetRemove(e){return this.delete(`account/holding/asset/${e}`)}}class de extends $.UQ{add(e,t,r){return this.post("account/holding/asset",{exchange:e,symbol:t,amount:r})}remove(e){return this.delete(`account/holding/asset/${e}`)}updateOrders(e){return this.post("account/holding/asset",{_orders:1,assets:e})}}const pe={namespaced:!0,state:()=>({initial:0,assets:[]}),mutations:{setInitial(e,t){e.initial=t},setAssets(e,t){e.assets=t.map((e=>({id:"id"in e?e.id:0,exchange:e.exchange,symbol:e.symbol,amount:e.amount,price:0,chartUrl:null})))},updateAssetPrice(e,{index:t,price:r,chartUrl:s}){e.assets[t].price=r,e.assets[t].chartUrl=s}},actions:{reset(e){e.commit("setInitial",0),e.commit("setAssets",[])},async loadData(e,t){return ct.$store.getters["account/isLoggedIn"]?await ct.$service(he).done((async()=>await e.dispatch("serviceCurrent"))).save("initial"in t?t.initial:0,"assets"in t?t.assets:[]):("initial"in t||"assets"in t)&&(e.commit("setInitial","initial"in t?t.initial:0),e.commit("setAssets","assets"in t?t.assets:[])),t},import(e,t){return new Promise(((r,s)=>{if("application/json"===t.type){const n=new FileReader;n.addEventListener("load",(async t=>{const s=await e.dispatch("loadData",JSON.parse(atob(t.target.result.substr("data:application/json;base64,".length))));r(s)})),n.addEventListener("error",(e=>s(e))),n.readAsDataURL(t)}else r({})}))},storeToCache(e,t){return ct.$cache.set("holding.data",t||e.getters.holdingForStore)},cacheCurrent(e){return ct.$cache.get("holding.data",{}).then((async t=>await e.dispatch("loadData",t)))},serviceCurrent(e){return ct.$service(he).done((async t=>{e.commit("setInitial",t.model.initial),e.commit("setAssets",t.model.assets),0===t.model.initial&&0===t.model.assets.length&&await e.dispatch("cacheCurrent")})).current()},current(e){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceCurrent"):e.dispatch("cacheCurrent")},cacheUpdateInitial(e,t){const r=e.getters.holdingForStore;return r.initial=t,e.dispatch("storeToCache",r).then((()=>e.commit("setInitial",t)))},serviceUpdateInitial(e,t){return ct.$service(he).done((()=>e.commit("setInitial",t))).updateInitial(t)},updateInitial(e,t){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceUpdateInitial",t):e.dispatch("cacheUpdateInitial",t)},cacheAddAsset(e,t){const r=e.getters.holdingForStore,s=r.assets.findIndex((e=>e.exchange===t.exchange&&e.symbol===t.symbol));return-1===s?r.assets.push({exchange:t.exchange,symbol:t.symbol,amount:t.amount}):r.assets[s].amount+=t.amount,e.dispatch("storeToCache",r).then((()=>e.dispatch("cacheCurrent")))},serviceAddAsset(e,t){return ct.$service(de).done((()=>e.dispatch("serviceCurrent"))).add(t.exchange,t.symbol,t.amount)},addAsset(e,t){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceAddAsset",t):e.dispatch("cacheAddAsset",t)},cacheRemoveAsset(e,{index:t}){if(t>=0&&t<=e.state.assets.length-1){const r=e.getters.holdingForStore;return r.assets.splice(t,1),e.dispatch("storeToCache",r).then((()=>e.dispatch("cacheCurrent")))}return Promise.resolve()},serviceRemoveAsset(e,{asset:t}){return ct.$service(de).done((()=>e.dispatch("serviceCurrent"))).remove(t.id)},removeAsset(e,{asset:t,index:r}){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceRemoveAsset",{asset:t}):e.dispatch("cacheRemoveAsset",{index:r})},cacheMoveUpAsset(e,{index:t}){if(t>0){const r=e.getters.holdingForStore;return r.assets.splice(t-1,0,r.assets.splice(t,1)[0]),e.dispatch("storeToCache",r).then((()=>e.dispatch("cacheCurrent")))}return Promise.resolve()},serviceMoveUpAsset(e,{index:t}){return t>0?ct.$service(de).done((()=>e.dispatch("serviceCurrent"))).updateOrders([{id:e.state.assets[t].id,order:t-1},{id:e.state.assets[t-1].id,order:t}]):Promise.resolve()},moveUpAsset(e,{index:t}){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceMoveUpAsset",{index:t}):e.dispatch("cacheMoveUpAsset",{index:t})},cacheMoveDownAsset(e,{index:t}){if(t<e.state.assets.length-1){const r=e.getters.holdingForStore;return r.assets.splice(t+1,0,r.assets.splice(t,1)[0]),e.dispatch("storeToCache",r).then((()=>e.dispatch("cacheCurrent")))}return Promise.resolve()},serviceMoveDownAsset(e,{index:t}){return t<e.state.assets.length-1?ct.$service(de).done((()=>e.dispatch("serviceCurrent"))).updateOrders([{id:e.state.assets[t+1].id,order:t},{id:e.state.assets[t].id,order:t+1}]):Promise.resolve()},moveDownAsset(e,{index:t}){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceMoveDownAsset",{index:t}):e.dispatch("cacheMoveDownAsset",{index:t})},cacheSortAsset(e,{sortFunc:t,ascending:r=!0}){const s=(e,s)=>r?t(e,s):0-t(e,s);return e.dispatch("storeToCache",{initial:e.state.initial,assets:e.state.assets.map(((e,t)=>({i:t,asset:e}))).sort(((e,t)=>s(e.asset,t.asset))).map((e=>({exchange:e.asset.exchange,symbol:e.asset.symbol,amount:e.asset.amount})))}).then((()=>e.dispatch("cacheCurrent")))},serviceSortAsset(e,{sortFunc:t,ascending:r=!0}){const s=(e,s)=>r?t(e,s):0-t(e,s);return ct.$service(de).done((()=>e.dispatch("serviceCurrent"))).updateOrders(e.state.assets.map(((e,t)=>({i:t,asset:e}))).sort(((e,t)=>s(e.asset,t.asset))).map(((e,t)=>({id:e.asset.id,order:t}))))},sortAsset(e,{sortFunc:t,ascending:r=!0}){return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceSortAsset",{sortFunc:t,ascending:r}):e.dispatch("cacheSortAsset",{sortFunc:t,ascending:r})},sortAssetBySymbol(e,t=!0){const r=(e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0;return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceSortAsset",{sortFunc:r,ascending:t}):e.dispatch("cacheSortAsset",{sortFunc:r,ascending:t})},sortAssetByPriceTotal(e,t=!0){const r=(e,t)=>e.price*e.amount-t.price*t.amount;return ct.$store.getters["account/isLoggedIn"]?e.dispatch("serviceSortAsset",{sortFunc:r,ascending:t}):e.dispatch("cacheSortAsset",{sortFunc:r,ascending:t})}},getters:{holding:e=>({initial:e.initial,assets:e.assets}),holdingForStore:e=>({initial:e.initial,assets:e.assets.map((e=>({exchange:e.exchange,symbol:e.symbol,amount:e.amount})))})}},ge=(0,ee.MT)({state:{},getters:{},mutations:{},actions:{},modules:n});var me=r(678);class fe{constructor(){this.middlewares=[]}collect(e){return this.middlewares=[],e.matched.forEach((e=>{"middleware"in e.meta&&this.middlewares.push(...e.meta.middleware)})),this}before(e,t,r,s){const n=(o=null)=>{if(null==o){const o=this.middlewares.shift();if(o){const s=new o;if(e in s)return void s[e](t,r,n)}s()}else s(o)};n()}beforeEach(e,t,r){this.before("beforeEach",e,t,r)}beforeResolve(e,t,r){this.before("beforeResolve",e,t,r)}after(e,t,r){const s=()=>{const n=this.middlewares.shift();if(n){const o=new n;if(e in o)return void o[e](t,r,s)}s()};s()}afterEach(e,t){this.after("afterEach",e,t)}}const ve=new fe;function be(e={}){return"history"in e||(e.history=(0,me.PO)("/")),(0,g.qn)((0,me.p7)(e),(function(e){e.beforeEach(((e,t,r)=>{ve.collect(e).beforeEach(e,t,r)})),e.beforeResolve(((e,t,r)=>{ve.collect(e).beforeResolve(e,t,r)})),e.afterEach(((e,t)=>{ve.collect(e).afterEach(e,t)}))}))}class we{beforeEach(e,t,r){r()}beforeResolve(e,t,r){r()}afterEach(e,t){}}class ye extends we{async beforeEach(e,t,r){const s=ct.$start.isFresh();if(ct.$start["continue"](),s){if(!await this.restoreFromServer(e,t,r))return;await this.restoreFromCache(),await this.restoreFromCookie()}r()}async restoreFromServer(e,t,r){if(!ct.$config.get("app.static")){const t=await ct.$store.dispatch("prerequisite/require",["server"]);if(ct.$log.info("middleware","fresh.restoreFromServer",t),t instanceof $.C){ct.$start.reset();const t=ct.$config.app.routes.connection_lost;if(e.name!==t.name)return r(t),!1}}return!0}async restoreFromCache(){ct.$log.info("middleware","fresh.restoreFromCache")}async restoreFromCookie(){ct.$log.info("middleware","fresh.restoreFromCookie"),await ct.$setLocale(await ct.$cookie.get("locale",p.locale["default"])),await ct.$store.dispatch("account/restoreFromCookie")}}class ke{async beforeEach(e,t,r){ct.$log.info("middleware","locale.beforeEach");const s="locale"in e.query?e.query.locale:"lang"in e.query?e.query.lang:null;s&&await ct.$setLocale(s),r()}}const Ee=[ye,ke];class xe extends we{beforeEach(e,t,r){if(ct.$log.info("middleware","auth.beforeEach"),!ct.$store.getters["account/isLoggedIn"]&&e.matched.some((e=>e.meta.requiresAuth))){const t=ct.$config.app.routes.redirect_if_unauthenticated;if(e.name!==t.name)return r(t),!1}r()}}class Ce extends we{beforeEach(e,t,r){if(ct.$log.info("middleware","auth.beforeEach"),ct.$store.getters["account/isLoggedIn"]&&e.matched.some((e=>e.meta.requiresGuest))){const t=ct.$config.app.routes.redirect_if_authenticated;if(e.name!==t.name)return r(t),!1}r()}}var Pe=r(3396),Ae=r(7139);const _e={class:"container"},$e={class:"text-center my-5"},Le={class:"card"},Ie={class:"card-header"},Ue={class:"nav nav-tabs card-header-tabs"},Se={class:"nav-item"},Re={key:0,class:"nav-item"},De={class:"card-body"};function Oe(e,t,r,s,n,a){const i=(0,Pe.up)("router-link"),c=(0,Pe.up)("router-view");return(0,Pe.wg)(),(0,Pe.iD)("div",_e,[(0,Pe._)("h1",$e,(0,Ae.zw)(n.appName),1),(0,Pe._)("div",Le,[(0,Pe._)("div",Ie,[(0,Pe._)("ul",Ue,[((0,Pe.wg)(!0),(0,Pe.iD)(Pe.HY,null,(0,Pe.Ko)(a.menuItems,(e=>((0,Pe.wg)(),(0,Pe.iD)("li",Se,[(0,Pe.Wm)(i,{class:(0,Ae.C_)(["nav-link",{active:a.currentRouteName===e.to.name}]),to:e.to},{default:(0,Pe.w5)((()=>[(0,Pe.Uk)((0,Ae.zw)(e.label),1)])),_:2},1032,["class","to"])])))),256)),e.accountIsLoggedIn?((0,Pe.wg)(),(0,Pe.iD)("li",Re,[(0,Pe._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>a.onLogoutClick&&a.onLogoutClick(...e)),["prevent"])),href:"#"},"Logout")])):(0,Pe.kq)("",!0)])]),(0,Pe._)("div",De,[(0,Pe.Wm)(c)])])])}var Ve={name:"Base",data(){return{appName:this.$config.app.name,menu:[{label:"Holding",to:{name:"holding"}},{label:"Trading",to:{name:"trading"}}]}},computed:{...(0,ee.Se)({accountIsLoggedIn:"account/isLoggedIn"}),currentRouteName(){return this.$route.name},menuItems(){const e=[{label:"Holding",to:{name:"holding"}},{label:"Trading",to:{name:"trading"}}];return this.accountIsLoggedIn||e.push({label:"Login",to:{name:"login"}},{label:"Register",to:{name:"register"}},{label:"Forgot Password",to:{name:"password.request"}}),e}},methods:{...(0,ee.nv)({accountLogout:"account/sanctumLogout"}),onLogoutClick(){this.accountLogout().then((()=>this.$router.push({name:"root"})))}}},Te=r(89);const qe=(0,Te.Z)(Ve,[["render",Oe]]);var je=qe;const Fe={class:"error"};function Ne(e,t,r,s,n,o){const a=(0,Pe.up)("router-view");return(0,Pe.wg)(),(0,Pe.iD)("div",Fe,[(0,Pe.Wm)(a)])}var Me={name:"BaseError"};const Be=(0,Te.Z)(Me,[["render",Ne]]);var ze=Be;function He(e,t,r,s,n,o){const a=(0,Pe.up)("router-view");return(0,Pe.wg)(),(0,Pe.j4)(a)}var Ze={name:"BaseBlank"};const Qe=(0,Te.Z)(Ze,[["render",He]]);var We=Qe;const Xe=[{path:"/",component:je,meta:{middleware:Ee},children:[{path:"clear-site-data",name:"clear_site_data",component:()=>r.e(793).then(r.bind(r,5793))},{path:"error",component:ze,children:[{path:"connection-lost",name:"connection_lost",component:()=>r.e(964).then(r.bind(r,2964))},{path:"401",name:"unauthenticated",component:()=>r.e(168).then(r.bind(r,9168))},{path:"404",name:"not_found",component:()=>r.e(134).then(r.bind(r,1134))}]},{path:"/",name:"root",redirect:{name:"holding"}},{path:"auth",component:We,meta:{requiresGuest:!0,middleware:[Ce]},children:[{path:"login",name:"login",component:()=>r.e(698).then(r.bind(r,4698))},{path:"register",component:()=>r.e(222).then(r.bind(r,2222)),children:[{path:"",name:"register",component:()=>r.e(10).then(r.bind(r,2010))},{path:"success",name:"register.success",component:()=>r.e(344).then(r.bind(r,344))}]},{path:"forgot-password",component:()=>r.e(58).then(r.bind(r,1058)),children:[{path:"",name:"password.request",component:()=>r.e(7).then(r.bind(r,3007))},{path:"success",name:"password.request.success",component:()=>r.e(228).then(r.bind(r,2228))}]},{path:"reset-password",component:()=>r.e(208).then(r.bind(r,1208)),children:[{path:":token",name:"password.reset",component:()=>r.e(743).then(r.bind(r,8743))},{path:"success",name:"password.reset.success",component:()=>r.e(378).then(r.bind(r,1378))}]}]},{path:"",component:We,meta:{requiresAuth:!0,middleware:[xe]},children:[{path:"account",name:"account",component:()=>r.e(961).then(r.bind(r,8961))}]},{path:"holding",name:"holding",component:()=>r.e(700).then(r.bind(r,700))},{path:"trading",name:"trading",component:()=>r.e(308).then(r.bind(r,9308))},{path:":pathMatch(.*)*",component:()=>r.e(134).then(r.bind(r,1134))}]}],Ge=be({routes:Xe});var Je=r(733);class Ke extends Je.c{constructor(e){super(e),this.url=this.app.config.globalProperties.$config.app.url,this.router=this.app.config.globalProperties.$router}concat(...e){return e.unshift(this.url),e.join("/")}to(e=""){return this.concat(e)}route(e){return this.concat(this.router.resolve(e).path.substr(1))}}function Ye(){return{install(e){e.config.globalProperties.$url=new Ke(e)}}}const et=Ye(),tt={config:v,log:C,service:A,encryption:R,storage:F,cache:H,i18n:K,localization:Y,store:ge,router:Ge,url:et};function rt(e,t){const r=(0,Pe.up)("router-view");return(0,Pe.wg)(),(0,Pe.j4)(r)}const st={},nt=(0,Te.Z)(st,[["render",rt]]);var ot=nt;const at=(0,g.XV)(),it=(0,o.ri)(ot).use({install(e){e.config.globalProperties.$start={fresh:0,freshStart:at,isFresh(){return 0===this.fresh},continue(){++this.fresh,this.freshStart=(0,g.XV)()},reset(){this.fresh=0}}}}),ct=(0,g.qn)(it,(function(e){Object.keys(tt).forEach((t=>e.use(tt[t])))})).mount("#app")},866:function(e,t,r){"use strict";var s=r(4715);s.l2.$log.info("app","created",s.l2)},1618:function(e,t,r){var s={"./en.js":[8367,820],"./vi.js":[8104,355]};function n(e){if(!r.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return r.e(t[1]).then((function(){return r(n)}))}n.keys=function(){return Object.keys(s)},n.id=1618,e.exports=n},2158:function(){},8076:function(){}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,o){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,c=0;c<s.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](s[c])}))?s.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,s){return r.f[s](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+({355:"lang-vi-js",820:"lang-en-js"}[e]||e)+"."+{7:"29279750",10:"9bd537cf",58:"30624f0c",134:"16455225",168:"f21d2bee",208:"cc36dd84",222:"a38b80a3",228:"d39d16a7",308:"45bb7888",344:"a315b56f",355:"ae82cff6",378:"2b74bfaa",698:"51e7c175",700:"73c7392c",733:"5496a0b9",743:"bbc26aa0",793:"7e7adccc",820:"bcbf84f7",961:"70d6fec4",964:"3c43811f"}[e]+".js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="starter:";r.l=function(s,n,o,a){if(e[s])e[s].push(n);else{var i,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==s||h.getAttribute("data-webpack")==t+o){i=h;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+o),i.src=s),e[s]=[n];var d=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var n=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var e={143:0};r.f.j=function(t,s){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var o=new Promise((function(r,s){n=e[t]=[r,s]}));s.push(n[2]=o);var a=r.p+r.u(t),i=new Error,c=function(s){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,n[1](i)}};r.l(a,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,a=s[0],i=s[1],c=s[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var u=c(r)}for(t&&t(s);l<a.length;l++)o=a[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},s=self["webpackChunkstarter"]=self["webpackChunkstarter"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(866)}));s=r.O(s)})();
//# sourceMappingURL=app.01cf177a.js.map